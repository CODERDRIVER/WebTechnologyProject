<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>文档管理</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../js/jquery-3.2.1.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/bootstrap-theme.css" />
    <link rel="stylesheet" href="../css/manager.css">
</head>

<body>
    <div id="userinfo">
        hello,<span id="name"></span>
        <button class="btn">注销</button>
    </div>
    <div id="content">
        <div class="left">
            <ul class="item_list">
                <li><span class="glyphicon glyphicon-folder-close" aria-hidden="true"></span>
                    <a href="#">我的书桌</a>
                </li>
                <li><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span>
                    <a href="#">文件夹</a>
                </li>
                <li>
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    <a href="# ">协作区</a>
                </li>
                <li>
                    <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                    <a href="# ">我的收藏</a></li>
                <li>
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    <a href=" ">回收站</a></li>
            </ul>
        </div>
        <div class="center">
            <ul class="nav nav-tabs">
                <li role="presentation" class="active"><a href="#">最近使用</a></li>
                <li role="presentation"><a href="#">我转存的</a></li>
                <li role="presentation"><a href="#">我创建的</a></li>
                <li role="presentation"><a href="#">共享给我的</a></li>
            </ul>
        </div>
        <div class="right">
            <div class="btn-option">
                <div class="btn-create">
                    <button type="button" class="btn  btn-lg">新&nbsp;&nbsp;建</button>
                </div>
                <div class="btn-import">
                    <button type="button" class="btn  btn-lg">导&nbsp;&nbsp;入</button>
                </div>
            </div>
            <div class="sidebar">
                <p>我</p>
                <p>的</p>
                <p>班</p>
                <p>级</p>
            </div>
            <div class="myclass">
                <div class="slide">
                    <button class="btn">|&nbsp;|</button>
                </div>
                <div class="title">
                    <p class="text">班&nbsp;级&nbsp;列&nbsp;表</p>
                </div>
                <div class="action">
                    <a href="#"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span></a>
                    <a href="#" id="add_class"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                    <a href="#"><span class="glyphicon glyphicon-menu-hamburger" aria-hidden="true"></span></a>
                </div>
                <div class="class_list">
                    <ul>
                        <!-- <li>001&nbsp;web工程</li> -->
                    </ul>
                </div>
            </div>

        </div>
    </div>
    <script type="text/javascript">
        var baseurl = "http://localhost:8080/";
        $(document).ready(function() {
            //像后端发送请求，查询该用户的所加入的班级
            $.ajax({
                url: baseurl + "/grades/" + localStorage.getItem("username"),
                method: "get",
                type: "json",
                success: function(data) {
                    for (var i = 0; i < data.length; i++) {
                        var tep = "0000" + (i + 1);
                        var number = tep.substr(tep.length - 3, 3);
                        $(".class_list").find('ul').append("<li>" + number + "&nbsp;" + data[i].classname + "</li>")
                    }
                },
                error: function() {
                    alert("网络出错了");
                }
            });
            $('#name').html(localStorage.getItem('username'));
            // 注销按钮
            $("#userinfo").on('click', function() {
                localStorage.removeItem("authorization");
                //跳转到首页
                window.location.href = "./index.html";
            });
            $('.myclass').hide();
            console.log($('.sidebar'));

            // 点击之后展示
            $('.sidebar').on('click', function() {


                $('.myclass').animate({
                    width: 'toggle'
                }, 350);
                $('.sidebar').hide();
                $('#userinfo').hide();
                // $('.myclass').show();
            });
            //点击之后隐藏
            $('.slide').on('click', function() {
                $('.myclass').animate({
                    width: 'toggle'
                }, 350);
                // $('.myclass').hide();
                $('.sidebar').show();
                $('#userinfo').show();
            });

            $(".btn-create").on('click', function() {
                window.location.href = './workstation.html';
            });


            // 增加一个班级
            $('#add_class').click(function() {
                $.ajax({
                    url: baseurl + "/grade",
                    method: "post",
                    type: "json",
                    success: function(data) {

                    },
                    error: function() {

                    }
                });
            });
        });
    </script>

</body>

</html>